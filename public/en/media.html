<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media | His Kingdom Ministry</title>

    <!-- Google Fonts: Inter for the entire site -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../css/cookie-consent.css">

    <!-- Tailwind CSS Play CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-orange': '#f39c12',
                        'primary-red': '#e74c3c',
                        'text-dark': '#333333',
                    }
                }
            }
        }
    </script>
</head>

<body>
    <!-- Header -->
    <header class="header fixed top-0 left-0 w-full z-[10001] transition-all duration-300" id="header">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-[100px] transition-all duration-300"
            id="header-container">
            <!-- Logo -->
            <a href="index.html" class="flex items-center gap-3 font-bold text-white transition-all duration-300 logo">
                <div
                    class="w-[45px] h-[45px] flex items-center justify-center rounded-full overflow-hidden shrink-0 logo-icon">
                    <img src="img/Logo sirkel - orange og hvit.png" alt="His Kingdom Ministry Logo"
                        class="w-full h-full object-cover">
                </div>
                <span class="text-xl">His Kingdom Ministry</span>
            </a>

            <!-- Right Actions: Donate + Language + Hamburger -->
            <div class="flex items-center gap-5 header-actions">
                <div class="lang-switcher relative group">
                    <button
                        class="flex items-center gap-2 text-white font-medium hover:text-primary-orange transition-colors lang-btn">
                        <i class="fas fa-globe text-lg"></i> <span>NO</span>
                    </button>
                    <div
                        class="lang-dropdown absolute right-0 mt-2 w-40 bg-white shadow-xl rounded-lg py-2 hidden group-hover:block border border-gray-100">
                        <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-50 lang-switch-btn"
                            data-lang="no">ðŸ‡³ðŸ‡´ Norsk</a>
                        <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-50 lang-switch-btn"
                            data-lang="en">ðŸ‡ºðŸ‡¸ English</a>
                        <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-50 lang-switch-btn"
                            data-lang="es">ðŸ‡ªðŸ‡¸ EspaÃ±ol</a>
                    </div>
                </div>
                <a href="donasjoner.html"
                    class="hidden md:flex items-center gap-2 px-6 py-3 rounded-full font-semibold text-white bg-gradient-to-br from-[#f39c12] to-[#e74c3c] hover:scale-105 transition-transform header-donate-btn">
                    Gi gave <i class="fas fa-heart text-sm"></i>
                </a>

                <!-- Unified Toggle Button -->
                <button
                    class="menu-toggle h-10 w-10 rounded-full flex items-center justify-center text-white bg-gradient-to-br from-[#f39c12] to-[#e74c3c] transition-transform hover:scale-105 focus:outline-none focus:ring-0 relative"
                    id="menu-toggle" aria-label="Toggle meny">
                    <i class="fas fa-bars text-lg open-icon"></i>
                    <i class="fas fa-times text-lg close-icon hidden"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Full-screen Mega Menu Overlay -->
    <div class="fixed inset-0 bg-white z-[10000] opacity-0 invisible transition-all duration-300 flex flex-col overflow-y-auto mega-menu"
        id="mega-menu">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full pt-[100px] flex flex-col gap-6 justify-start">
            <!-- Menu Top Controls (Search & Mobile Lang) -->
            <div class="flex flex-col gap-6">
                <div class="relative w-full">
                    <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    <input type="text" placeholder="Search..."
                        class="w-full pl-12 pr-4 py-4 bg-gray-100 rounded-2xl border-none focus:outline-none focus:ring-0 transition-all text-gray-800">
                </div>

                <!-- Mobile Language Selector (Pill Style) -->
                <div class="flex md:hidden">
                    <div class="flex items-center gap-4 px-5 py-3 border border-gray-100 rounded-full bg-gray-100">
                        <i class="fas fa-globe text-gray-400"></i>
                        <div class="flex gap-4 items-center">
                            <a href="../media.html"
                                class="text-sm font-semibold text-gray-500 hover:text-primary-orange">NO</a>
                            <div class="w-px h-3 bg-gray-300"></div>
                            <a href="media.html" class="text-sm font-bold text-primary-orange">EN</a>
                            <div class="w-px h-3 bg-gray-300"></div>
                            <a href="../es/media.html"
                                class="text-sm font-semibold text-gray-500 hover:text-primary-orange">ES</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mega-menu-body">

                <!-- Menu Content Grid -->
                <div class="mega-menu-grid">
                    <!-- Column 1: Get Involved -->
                    <div class="menu-col">
                        <h3 class="menu-section-title">Get Involved</h3>
                        <ul class="mega-nav-list">
                            <li><a href="donations.html">Support the Work</a></li>
                            <li><a href="donations.html#faste-givere">Become a Monthly Donor</a></li>
                            <li><a href="for-churches.html">For Churches</a></li>
                            <li><a href="for-businesses.html">For Businesses</a></li>
                            <li><a href="bnn.html">Business Network</a></li>
                        </ul>
                    </div>

                    <!-- Column 2: Get to Know Us -->
                    <div class="menu-col">
                        <h3 class="menu-section-title">Get to Know Us</h3>
                        <ul class="mega-nav-list">
                            <li><a href="about.html">About the Foundation</a></li>
                            <li><a href="about.html#historie">Our History</a></li>
                            <li><a href="contact.html">Where We Work</a></li>
                            <li><a href="contact.html">Contact Us</a></li>
                        </ul>
                    </div>

                    <!-- Column 3: Resources & Media -->
                    <div class="menu-col">
                        <h3 class="menu-section-title">Resources</h3>
                        <ul class="mega-nav-list">
                            <li><a href="events.html">Events</a></li>
                            <li><a href="media.html">Media & Podcast</a></li>
                            <li><a href="blog.html">News & Blog</a></li>
                            <li><a href="../minside/index.html">My Account</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Menu Footer -->
                <div class="mega-menu-footer">
                    <a href="donations.html" class="btn btn-primary btn-large btn-block">Support Now <i
                            class="fas fa-heart"></i></a>
                    <div class="menu-footer-links">
                        <a href="donations.html#skattefradrag">Tax Deduction</a>
                        <a href="about.html">About Us</a>
                        <a href="privacy.html">Privacy</a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Page Hero -->
    <section class="page-hero" data-content-key="hero.backgroundImage" style="padding-top: 160px;">
        <div class="container">
            <h1 class="page-hero-title">Media</h1>
            <p class="page-hero-subtitle">Explore our videos, podcasts, and other content</p>
        </div>
    </section>

    <!-- Media Filter Tabs -->
    <section class="media-tabs-section">
        <div class="container">
            <div class="media-tabs">
                <a href="media.html" class="media-tab active">
                    <i class="fas fa-th"></i>
                    All
                </a>
                <a href="youtube.html" class="media-tab">
                    <i class="fab fa-youtube"></i>
                    YouTube
                </a>
                <a href="podcast.html" class="media-tab">
                    <i class="fas fa-podcast"></i>
                    Podcast
                </a>
                <a href="teaching.html" class="media-tab">
                    <i class="fas fa-book-open"></i>
                    Teaching
                </a>
            </div>
        </div>
    </section>

    <!-- YouTube Section -->
    <section class="media-content-section" id="youtube-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">YouTube</span>
                <h2 class="section-title">Latest Videos</h2>
                <p class="section-description">Watch our newest videos and teachings</p>
            </div>

            <div class="media-grid" id="youtube-grid">
                <!-- YouTube videos will be loaded here dynamically -->
                <div class="loader-container" style="grid-column: 1/-1; text-align: center; padding: 50px;">
                    <div class="loader"></div>
                    <p style="margin-top: 15px; color: var(--text-muted);">Fetching videos from YouTube...</p>
                </div>
            </div>

            <div class="section-footer" style="text-align: center; margin-top: 50px;">
                <a href="youtube.html" class="btn btn-primary">
                    <i class="fab fa-youtube"></i> See all videos
                </a>
            </div>
        </div>
    </section>

    <!-- Podcast Section -->
    <section class="media-content-section podcast-section" id="podcast-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Podcast</span>
                <h2 class="section-title">Latest Episodes</h2>
                <p class="section-description">Listen to our podcasts about faith, life, and spiritual growth</p>
            </div>

            <div class="podcast-grid" id="podcast-grid">
                <!-- Podcast episodes will be loaded here dynamically -->
                <div class="loader-container" style="grid-column: 1/-1; text-align: center; padding: 50px;">
                    <div class="loader"></div>
                    <p style="margin-top: 15px; color: var(--text-muted);">Fetching podcast episodes...</p>
                </div>
            </div>

            <div class="section-footer" style="margin-top: 50px;">
                <div class="footer-flex">
                    <a href="podcast.html" class="btn btn-primary">
                        <i class="fas fa-podcast"></i> See all episodes
                    </a>
                    <div class="podcast-platforms">
                        <a href="https://open.spotify.com/show/3gk4nt7v5hy6yGB4k1QYGU?si=021c69679bdd49ac"
                            target="_blank" class="platform-link platform-spotify" title="Spotify"
                            rel="noopener noreferrer">
                            <i class="fab fa-spotify"></i>
                        </a>
                        <a href="https://podcasts.apple.com/us/podcast/tro-og-liv/id1753117158" target="_blank"
                            class="platform-link platform-apple" title="Apple Podcasts" rel="noopener noreferrer">
                            <i class="fas fa-podcast"></i>
                        </a>
                        <a href="https://www.youtube.com/playlist?list=PL7aC7oqEJFeXLnkmFQzPOOvWcnAIfjTGv"
                            class="platform-link platform-youtube" title="YouTube" target="_blank"
                            rel="noopener noreferrer">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Teaching Resources Section -->
    <section class="media-content-section teaching-section" id="teaching-section">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Teaching</span>
                <h2 class="section-title">Teaching Resources</h2>
                <p class="section-description">In-depth Bible studies and teaching series</p>
                <div style="margin-top: 20px;">
                    <a href="teaching.html" class="btn btn-outline btn-sm">See all resources</a>
                </div>
            </div>

            <div class="teaching-grid">
                <div class="teaching-card" data-category="Bibelstudier">
                    <div class="teaching-icon">
                        <i class="fas fa-book-bible"></i>
                    </div>
                    <h3 class="teaching-title">Bible Studies</h3>
                    <p class="teaching-description">Systematic studies through the books of the Bible with in-depth
                        explanations.</p>
                    <span class="teaching-count" data-count="bibelstudier">12 series available</span>
                    <a href="bibelstudier.html" class="btn btn-outline btn-sm">Explore</a>
                </div>

                <div class="teaching-card" data-category="Seminarer">
                    <div class="teaching-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3 class="teaching-title">Seminars</h3>
                    <p class="teaching-description">Recordings from our seminars and conferences on various topics.</p>
                    <span class="teaching-count" data-count="seminarer">8 seminars available</span>
                    <a href="seminarer.html" class="btn btn-outline btn-sm">Explore</a>
                </div>

                <div class="teaching-card" data-category="Undervisningsserier">
                    <div class="teaching-icon">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <h3 class="teaching-title">Teaching Series</h3>
                    <p class="teaching-description">Thematic teaching series on important Christian topics.</p>
                    <span class="teaching-count" data-count="undervisningsserier">15 series available</span>
                    <a href="teaching.html" class="btn btn-outline btn-sm">Explore</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter CTA -->
    <section class="media-newsletter">
        <div class="container">
            <div class="newsletter-content">
                <i class="fas fa-bell newsletter-icon"></i>
                <h2>Get Notified About New Content</h2>
                <p>Subscribe to our newsletter and get notified when we publish new videos, podcasts, and teachings.
                </p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Your email address" required>
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer" id="kontakt">
        <div class="container">
            <div class="footer-layout-v2">
                <!-- Left Section: Brand + Links -->
                <div class="footer-left">
                    <!-- Brand / Intro -->
                    <div class="footer-brand">
                        <a href="index.html" class="logo">
                            <div class="logo-icon">
                                <img src="../img/Logo sirkel - orange og hvit.png" alt="His Kingdom Ministry Logo">
                            </div>
                            <span class="logo-text">His Kingdom Ministry</span>
                        </a>
                        <p class="brand-description">His Kingdom Ministry is a non-profit organization dedicated to
                            spiritual growth through teaching, podcasts, and missionary travel.</p>
                    </div>

                    <!-- Links Grid -->
                    <div class="footer-nav-grid">
                        <div class="nav-col">
                            <h4>About Us</h4>
                            <ul>
                                <li><a href="index.html#hjem">Home</a></li>
                                <li><a href="about.html">Who We Are</a></li>
                                <li><a href="about.html#visjon">Our Vision</a></li>
                                <li><a href="contact.html">Contact Us</a></li>
                            </ul>
                        </div>

                        <div class="nav-col">
                            <h4>Resources</h4>
                            <ul>
                                <li><a href="media.html#teaching-section">Teaching</a></li>
                                <li><a href="events.html">E-courses</a></li>
                                <li><a href="blog.html">Books & Blog</a></li>
                                <li><a href="../minside/index.html">My Account</a></li>
                            </ul>
                        </div>

                        <div class="nav-col">
                            <h4>Media</h4>
                            <ul>
                                <li><a href="media.html#podcast-section">Podcast</a></li>
                                <li><a href="media.html">Videos</a></li>
                                <li><a href="https://www.youtube.com/@HisKingdomMinistry" target="_blank">YouTube</a>
                                </li>
                            </ul>
                        </div>

                        <div class="nav-col">
                            <h4>Get Involved</h4>
                            <ul>
                                <li><a href="events.html">Calendar</a></li>
                                <li><a href="donations.html">Make a Donation</a></li>
                                <li><a href="privacy.html">Privacy</a></li>
                                <li><a href="accessibility.html">Accessibility</a></li>
                                <li><a href="#"
                                        onclick="localStorage.removeItem('hkm_cookie_consent'); location.reload(); return false;">Cookies</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Right Section: Cards -->
                <div class="footer-right">
                    <!-- Follow Us Card -->
                    <div class="footer-card">
                        <h3>Follow Us</h3>
                        <div class="footer-social-icons">
                            <a href="https://www.facebook.com/hiskingdomministry777?locale=nb_NO" target="_blank"><i
                                    class="fab fa-facebook-f"></i></a>
                            <a href="https://www.instagram.com/hiskingdomdesigns/" target="_blank"><i
                                    class="fab fa-instagram"></i></a>
                            <a href="https://www.youtube.com/@HisKingdomMinistry" target="_blank"><i
                                    class="fab fa-youtube"></i></a>
                        </div>
                    </div>

                    <!-- Contact Us Card -->
                    <div class="footer-card contact-card">
                        <h3>Contact Us</h3>
                        <a href="contact.html" class="btn btn-primary btn-block btn-sm">Contact Form</a>

                        <div class="contact-details">
                            <div class="detail-item">
                                <strong>Email:</strong>
                                <p>post@hiskingdomministry.no</p>
                            </div>
                            <div class="detail-item">
                                <strong>Phone:</strong>
                                <p>+47 930 94 615</p>
                            </div>
                            <div class="detail-item">
                                <strong>Vipps:</strong>
                                <p>938361</p>
                            </div>
                            <div class="detail-item">
                                <strong>Account No.:</strong>
                                <p>3000.66.08759</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; <span id="copyright-year">2026</span> His Kingdom Ministry. All rights reserved.</p>
                <a href="../admin/login.html" class="admin-link">Admin</a>
            </div>
        </div>
    </footer>

    <!-- Firebase SDK (Compat) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

    <!-- Firebase Config & Service -->
    <script src="../js/firebase-config.js"></script>
    <script src="../js/firebase-service.js"></script>
    <script src="../js/teaching-loader.js"></script>

    <!-- App Scripts -->
    <script src="../js/i18n.js"></script>
    <script src="../script.js"></script>
    <script src="../js/content-manager.js?v=author"></script>
    <script src="../media.js"></script>
    <script src="../js/cookie-consent.js"></script>

    <script>
        // Load teaching category counts on media.html
        async function loadTeachingCounts() {
            try {
                const teachingData = await firebaseService.getPageContent('collection_teaching');
                if (!teachingData || !teachingData.items) return;

                const categories = {
                    'bibelstudier': { name: 'Bibelstudier', label: 'series' },
                    'seminarer': { name: 'Seminarer', label: 'seminars' },
                    'undervisningsserier': { name: 'Undervisningsserier', label: 'series' }
                };

                // Count items by category and update display
                for (const [key, meta] of Object.entries(categories)) {
                    const count = teachingData.items.filter(item =>
                        item.category && item.category.trim().toLowerCase() === meta.name.trim().toLowerCase()
                    ).length;

                    const countSpan = document.querySelector(`[data-count="${key}"]`);
                    if (countSpan) {
                        if (count === 0) {
                            countSpan.textContent = `No ${meta.label} available`;
                        } else if (count === 1) {
                            countSpan.textContent = `1 ${meta.label} available`;
                        } else {
                            countSpan.textContent = `${count} ${meta.label} available`;
                        }
                    }
                }
            } catch (error) {
                console.error('Error loading teaching counts:', error);
            }
        }

        // Load counts on page load
        document.addEventListener('DOMContentLoaded', () => {
            loadTeachingCounts();
        });
    </script>
</body>

</html>