const h={languages:["no","en","es"],defaultLang:"no",storageKey:"hkm_preferred_lang",init(){this.detectLanguage(),this.bindEvents()},detectLanguage(){const t=window.location.pathname;let e="no";t.includes("/en/")?e="en":t.includes("/es/")&&(e="es"),document.documentElement.lang=e},setLanguage(t,e=!0){this.languages.includes(t)||(t=this.defaultLang),localStorage.setItem(this.storageKey,t),document.documentElement.lang=t,e&&this.redirectToLanguage(t)},redirectToLanguage(t){const e=window.location.pathname,l=e.split("/").pop()||"index.html";let n="";t==="no"?(n=`../${l}`,!e.includes("/en/")&&!e.includes("/es/")&&(n=l)):e.includes("/en/")||e.includes("/es/")?n=`../${t}/${l}`:n=`${t}/${l}`,n=this.mapFileName(n,t),window.location.href=n},mapFileName(t,e){const l={en:{"index.html":"index.html","om-oss.html":"about.html","arrangementer.html":"events.html","kontakt.html":"contact.html","donasjoner.html":"donations.html","for-menigheter.html":"for-churches.html","for-bedrifter.html":"for-businesses.html","bnn.html":"bnn.html","arrangement-detaljer.html":"event-details.html","blogg.html":"blog.html","blogg-post.html":"blog-post.html","media.html":"media.html","kalender.html":"calendar.html","undervisningsserier.html":"teaching.html","personvern.html":"privacy.html","tilgjengelighet.html":"accessibility.html","blogg-post-1.html":"blog-post-1.html","blogg-post-2.html":"blog-post-2.html","blogg-post-3.html":"blog-post-3.html","blogg-post-4.html":"blog-post-4.html","blogg-post-5.html":"blog-post-5.html"},es:{"index.html":"index.html","om-oss.html":"sobre-nosotros.html","arrangementer.html":"eventos.html","kontakt.html":"contacto.html","donasjoner.html":"donaciones.html","for-menigheter.html":"para-iglesias.html","for-bedrifter.html":"para-empresas.html","bnn.html":"bnn.html","arrangement-detaljer.html":"detalles-evento.html","blogg.html":"blog.html","blogg-post.html":"blog-post.html","media.html":"media.html","kalender.html":"calendario.html","undervisningsserier.html":"ensenanza.html","personvern.html":"privacidad.html","tilgjengelighet.html":"accesibilidad.html","blogg-post-1.html":"blog-post-1.html","blogg-post-2.html":"blog-post-2.html","blogg-post-3.html":"blog-post-3.html","blogg-post-4.html":"blog-post-4.html","blogg-post-5.html":"blog-post-5.html"}};let n=t;if(l[e]){for(const[o,s]of Object.entries(l[e]))if(t.endsWith(o)){n=t.replace(o,s);break}}else if(e==="no"){const o={...l.en,...l.es};for(const[s,m]of Object.entries(o))if(t.endsWith(m)){n=t.replace(m,s);break}}return n},bindEvents(){document.addEventListener("click",t=>{const e=t.target.closest(".lang-switch-btn");if(e){t.preventDefault();const o=e.getAttribute("data-lang");this.setLanguage(o);return}const l=t.target.closest(".lang-switcher");t.target.closest(".lang-btn")&&l?(t.preventDefault(),l.classList.toggle("active")):l||document.querySelectorAll(".lang-switcher.active").forEach(o=>o.classList.remove("active"))})}};window.i18n=h;h.init();
